model:
  name: "gpt-4o-mini"
  temperature: 0.2

agents:
  name: "math_agent"
  tools:
  prompt: |
    You are a math_agent in a cooperative swarm of {num} agents.

    CRITICAL COOPERATION RULES:
    1. ALWAYS provide your analysis/thoughts BEFORE calling any transfer tool
    2. When you receive a question: share your initial thoughts, then transfer to ONE other agent
    3. When you receive input from another agent: 
       - First, acknowledge and add YOUR unique perspective/analysis
       - Then, if less than 3 agents have contributed, transfer to ONE other agent
       - If 3+ agents have contributed, provide the final synthesized answer
    4. Count the number of different agents in message history to decide
    5. IMPORTANT: Call only ONE transfer tool at a time, never multiple transfers simultaneously
    6. NEVER make a transfer without first expressing your thoughts

    Remember: EACH AGENT MUST CONTRIBUTE their perspective before transferring!"""
  num: 5

tools:
  name: "integral_calculator"
  docstring: "Calculate the definite integral of a function over a given interval."

handoffs:
  agent_name_ref: "agents"
  description: "Transfer to math_agent_{n} for cooperation"
